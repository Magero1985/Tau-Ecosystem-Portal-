<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="TAU Africa Digital Ecosystem - Revolutionary Technology for Education and Economic Empowerment">
    <meta name="theme-color" content="#2d004d">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="TAU Ecosystem">
    <link rel="manifest" href="manifest.json">
    <base href="/Tau-Ecosystem-Portal-/">
    <title>TAU Africa Digital Ecosystem</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a0033 0%, #2d004d 50%, #4a0080 100%);
            min-height: 100vh;
            color: #fff;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Welcome Screen */
        .welcome-screen {
            text-align: center;
            padding: 40px 20px;
            animation: fadeIn 1s ease-in;
        }

        .logo-section {
            margin-bottom: 30px;
        }

        .logo-circle {
            width: 120px;
            height: 120px;
            background: linear-gradient(135deg, #FFD700, #FFA500);
            border-radius: 50%;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            font-weight: bold;
            color: #2d004d;
            box-shadow: 0 8px 25px rgba(255, 215, 0, 0.4);
        }

        h1 {
            font-size: 2.5em;
            background: linear-gradient(135deg, #FFD700, #FFA500);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .welcome-text {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin: 30px auto;
            max-width: 800px;
            border: 2px solid rgba(255, 215, 0, 0.3);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .welcome-text p {
            line-height: 1.8;
            margin-bottom: 15px;
            font-size: 1.1em;
        }

        .access-code-section {
            margin: 30px auto;
            max-width: 500px;
        }

        .access-code-input {
            width: 100%;
            padding: 15px;
            font-size: 1.1em;
            border: 2px solid #FFD700;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            text-align: center;
            margin-bottom: 15px;
        }

        .access-code-input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .access-btn {
            width: 100%;
            padding: 15px;
            font-size: 1.2em;
            background: linear-gradient(135deg, #FFD700, #FFA500);
            color: #2d004d;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);
        }

        .access-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 25px rgba(255, 215, 0, 0.5);
        }

        /* Main Dashboard */
        .dashboard {
            display: none;
            animation: fadeIn 0.5s ease-in;
        }

        .dashboard.active {
            display: block;
        }

        .dashboard-header {
            text-align: center;
            padding: 30px 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            margin-bottom: 30px;
            border: 2px solid rgba(255, 215, 0, 0.2);
        }

        .dashboard-header h2 {
            color: #FFD700;
            font-size: 2em;
            margin-bottom: 10px;
        }

        .category-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            max-width: 700px;
            margin: 30px auto;
        }

        .category-modal {
            aspect-ratio: 1;
            padding: 30px 15px;
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(10px);
            border: 3px solid rgba(255, 215, 0, 0.3);
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .category-modal:hover,
        .category-modal.active {
            background: linear-gradient(135deg, rgba(139, 0, 255, 0.3), rgba(93, 0, 166, 0.3));
            border-color: #FFD700;
            transform: translateY(-5px);
            box-shadow: 0 12px 40px rgba(255, 215, 0, 0.4);
        }

        .category-icon {
            font-size: 3.5em;
            margin-bottom: 15px;
            filter: drop-shadow(0 4px 8px rgba(255, 215, 0, 0.3));
        }

        .category-modal h3 {
            color: #FFD700;
            font-size: 1.4em;
            margin-bottom: 8px;
        }

        .category-modal p {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.85em;
            line-height: 1.4;
        }

        /* Apps Grid */
        .apps-section {
            display: none;
        }

        .apps-section.active {
            display: block;
            animation: slideUp 0.5s ease-out;
        }

        .apps-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-top: 30px;
        }

        .app-card {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 15px 10px;
            border: 2px solid rgba(255, 215, 0, 0.3);
            transition: all 0.3s ease;
            cursor: pointer;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            position: relative;
        }

        .app-card:hover {
            transform: translateY(-3px);
            border-color: #FFD700;
            box-shadow: 0 12px 40px rgba(255, 215, 0, 0.3);
        }

        .app-card.active {
            border-color: #FFD700;
            background: rgba(255, 215, 0, 0.1);
        }

        .app-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #FFD700, #FFA500);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            margin: 0 auto 10px;
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);
            transition: all 0.3s ease;
        }

        .app-card.active .app-icon {
            transform: scale(1.1);
        }

        .app-card h3 {
            color: #FFD700;
            margin-bottom: 0;
            font-size: 0.85em;
            line-height: 1.2;
            text-align: center;
        }

        .app-description {
            display: none;
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%) translateY(-100%);
            color: rgba(255, 255, 255, 0.95);
            line-height: 1.4;
            font-size: 0.75em;
            text-align: center;
            padding: 10px 12px;
            background: rgba(45, 0, 77, 0.98);
            backdrop-filter: blur(10px);
            border-radius: 10px;
            border: 2px solid rgba(255, 215, 0, 0.6);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.6);
            z-index: 1000;
            width: 180px;
            max-width: 180px;
            animation: fadeInUp 0.3s ease-out;
            pointer-events: none;
        }

        .app-card.active .app-description {
            display: block;
        }

        .app-description::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 10px solid transparent;
            border-right: 10px solid transparent;
            border-top: 10px solid rgba(255, 215, 0, 0.6);
        }

        .click-instruction {
            display: none;
            color: #FFD700;
            font-size: 0.7em;
            text-align: center;
            margin-top: 8px;
            font-style: italic;
        }

        .app-card.active .click-instruction {
            display: block;
            animation: pulse 1.5s infinite;
        }

        .coming-soon {
            display: block;
            margin-top: 8px;
            padding: 3px 8px;
            background: rgba(255, 215, 0, 0.2);
            color: #FFD700;
            border-radius: 4px;
            font-size: 0.65em;
            font-weight: bold;
            text-align: center;
        }

        .back-btn {
            position: fixed;
            top: 20px;
            left: 20px;
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid #FFD700;
            color: #FFD700;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            z-index: 1000;
            transition: all 0.3s ease;
        }

        .back-btn:hover {
            background: rgba(255, 215, 0, 0.2);
            transform: translateX(-3px);
        }

        .portal-return-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 15px 25px;
            background: linear-gradient(135deg, #FFD700, #FFA500);
            color: #2d004d;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1.1em;
            z-index: 1000;
            box-shadow: 04px 15px rgba(255, 215, 0, 0.4);
            transition: all 0.3s ease;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .portal-return-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 25px rgba(255, 215, 0, 0.6);
        }

        .install-prompt {
            background: rgba(255, 215, 0, 0.1);
            border: 2px solid #FFD700;
            border-radius: 15px;
            padding: 15px 20px;
            margin: 20px auto;
            max-width: 600px;
            text-align: center;
            display: none;
        }

        .install-prompt.show {
            display: block;
            animation: slideDown 0.5s ease-out;
        }

        .install-btn {
            margin-top: 10px;
            padding: 10px 25px;
            background: linear-gradient(135deg, #FFD700, #FFA500);
            color: #2d004d;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1em;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateX(-50%) translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateX(-50%) translateY(0);
            }
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes pulse {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: 0.5;
            }
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 1.5em;
            }

            .welcome-text {
                padding: 20px;
            }

            .welcome-text p {
                font-size: 0.95em;
            }

            .dashboard-header h2 {
                font-size: 1.5em;
            }

            .category-buttons {
                grid-template-columns: 1fr 1fr;
                gap: 15px;
                max-width: 100%;
            }

            .category-modal {
                aspect-ratio: 1;
                padding: 20px 10px;
            }

            .category-icon {
                font-size: 2.5em;
                margin-bottom: 10px;
            }

            .category-modal h3 {
                font-size: 1em;
            }

            .category-modal p {
                font-size: 0.7em;
            }

            .apps-grid {
                grid-template-columns: repeat(3, 1fr);
                gap: 10px;
            }

            .app-card {
                padding: 12px 8px;
            }

            .app-icon {
                width: 45px;
                height: 45px;
                font-size: 22px;
            }

            .app-card h3 {
                font-size: 0.75em;
            }

            .app-description {
                font-size: 0.68em;
                padding: 8px 10px;
                width: 160px;
                max-width: 160px;
            }

            .app-description::after {
                bottom: -8px;
                border-left: 8px solid transparent;
                border-right: 8px solid transparent;
                border-top: 8px solid rgba(255, 215, 0, 0.6);
            }

            .portal-return-btn {
                bottom: 10px;
                right: 10px;
                padding: 10px 15px;
                font-size: 0.85em;
            }

            .back-btn {
                top: 10px;
                left: 10px;
                padding: 8px 15px;
                font-size: 0.85em;
            }
        }

        @media (min-width: 769px) and (max-width: 1024px) {
            .apps-grid {
                grid-template-columns: repeat(3, 1fr);
                gap: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Welcome Screen -->
        <div class="welcome-screen" id="welcomeScreen">
            <div class="logo-section">
                <div class="logo-circle">œÑ</div>
                <h1>Welcome to The TAU AFRICA DIGITAL ECOSYSTEM</h1>
            </div>

            <div class="welcome-text">
                <p><strong>Access All TAU Ecosystem Applications</strong></p>
                <p>Including Kabiru Mining Portal and comprehensive system utilities</p>
                <p style="margin-top: 20px; font-size: 0.95em;">These Apps will be accessed on public portals like PlayStore and AppStore after the closed network (test) period is completed. Currently the closed network is scaling for the Grand Launch and still keeping Apps internal for continued developments.</p>
                <p style="font-size: 0.95em;"><strong>Follow TAU Africa social media for updates and important release information.</strong></p>
                <p style="margin-top: 20px; color: #FFD700;">Use the <strong>TAU Blueprint & Membership Document</strong> in the System and Utility Section to learn how to join or participate in the ecosystem.</p>
            </div>

            <div class="install-prompt" id="installPrompt">
                <p style="color: #FFD700; font-weight: bold;">üì± Install TAU Ecosystem as an App</p>
                <p style="font-size: 0.9em; margin-top: 10px;">Add to your home screen for quick access</p>
                <button class="install-btn" id="installButton">Install Now</button>
            </div>

            <div class="access-code-section">
                <input type="password" class="access-code-input" id="accessCode" placeholder="Enter TAU Access Code">
                <button class="access-btn" onclick="accessEcosystem()">Access Ecosystem</button>
            </div>
        </div>

        <!-- Main Dashboard -->
        <div class="dashboard" id="dashboard">
            <button class="back-btn" onclick="logout()">‚Üê Logout</button>

            <div class="dashboard-header">
                <h2>TAU ECOSYSTEM PORTAL</h2>
                <p>Select a category to explore applications</p>
            </div>

            <div class="category-buttons">
                <div class="category-modal" onclick="showCategory('system')">
                    <div class="category-icon">‚öôÔ∏è</div>
                    <h3>System Apps</h3>
                    <p>Operations, Integration, Compliance & Security</p>
                </div>

                <div class="category-modal" onclick="showCategory('utility')">
                    <div class="category-icon">üõ†Ô∏è</div>
                    <h3>Utility Apps</h3>
                    <p>Resource Generation, Social Interaction, Job Creation & Growth</p>
                </div>
            </div>

            <!-- System Applications -->
            <div class="apps-section active" id="systemApps">
                <h2 style="color: #FFD700; text-align: center; margin-bottom: 20px;">System Applications</h2>
                <p style="text-align: center; margin-bottom: 30px; color: rgba(255,255,255,0.8);">Operations, Integration, Compliance & Security</p>
                
                <div class="apps-grid">
                    <div class="app-card" onclick="handleAppClick(event, this, 'https://magero1985.github.io/Tau-Africa/')">
                        <div class="app-icon">üè†</div>
                        <h3>TAU Africa Main App</h3>
                        <p class="app-description">Registration, Membership, Activities, Tasks, Community, Values and core ecosystem management</p>
                        <p class="click-instruction">Click again to open app ‚Üí</p>
                    </div>

                    <div class="app-card" onclick="handleAppClick(event, this, 'https://magero1985.github.io/Tau-Africa/Kabiru-Mining-Portal.html')">
                        <div class="app-icon">‚õèÔ∏è</div>
                        <h3>Kabiru Mining Portal</h3>
                        <p class="app-description">iKb Mining Portal, iKbp Earnings, Wallet Management, iKb Account Management, Swap Services, Link to Ecosystem Apps</p>
                        <p class="click-instruction">Click again to open app ‚Üí</p>
                    </div>

                    <div class="app-card" onclick="handleAppClick(event, this, 'https://magero1985.github.io/Tau-marketing-App/')">
                        <div class="app-icon">üåç</div>
                        <h3>Global Marketplace</h3>
                        <p class="app-description">Global Market, Buy, Sell, Account Management, Admin Controls, Products, Services, Apps Integration</p>
                        <p class="click-instruction">Click again to open app ‚Üí</p>
                    </div>

                    <div class="app-card" onclick="handleAppClick(event, this, 'https://magero1985.github.io/Tau-Africa-Accounting/')">
                        <div class="app-icon">üí∞</div>
                        <h3>Accounting Database</h3>
                        <p class="app-description">Comprehensive Accounting System - Auffi, Valenta, Par Sirai, IEL, Financial Automation, Recording Master, Statement Emailing</p>
                        <p class="click-instruction">Click again to open app ‚Üí</p>
                    </div>

                    <div class="app-card" onclick="handleAppClick(event, this, 'https://magero1985.github.io/oloo_app/')">
                        <div class="app-icon">üí¨</div>
                        <h3>Oloo Messenger</h3>
                        <p class="app-description">Messenger Services, Chats, Groups, Forums, and Community Communication Platform</p>
                        <p class="click-instruction">Click again to open app ‚Üí</p>
                    </div>

                    <div class="app-card" onclick="handleAppClick(event, this, '')">
                        <div class="app-icon">üèõÔ∏è</div>
                        <h3>Valenta Co Ltd</h3>
                        <p class="app-description">TAU's economic vehicle for Africa's Sovereign Digital Token building. Registered for legal compliance, members businesses, partners, investors. Sole vehicle for Africa's Sovereignty Card, Kabiru Tokenization and Kabiru Corporate structures</p>
                        <span class="coming-soon">Coming Soon</span>
                    </div>
                </div>
            </div>

            <!-- Utility Applications -->
            <div class="apps-section" id="utilityApps">
                <h2 style="color: #FFD700; text-align: center; margin-bottom: 20px;">Utility Applications</h2>
                <p style="text-align: center; margin-bottom: 30px; color: rgba(255,255,255,0.8);">Resource Generation, Social Interaction, Job Creation & Growth</p>
                
                <div class="apps-grid">
                    <div class="app-card" onclick="handleAppClick(event, this, 'https://magero1985.github.io/Reach-out-Ema/')">
                        <div class="app-icon">üõçÔ∏è</div>
                        <h3>Merchandise App</h3>
                        <p class="app-description">Product Supplies: Industrial Supplies, Safety & Promotional Equipment, Uniforms, and More</p>
                        <p class="click-instruction">Click again to open app ‚Üí</p>
                    </div>

                    <div class="app-card" onclick="handleAppClick(event, this, 'https://grouptauafrica-spec.github.io/Diagnosis-App/')">
                        <div class="app-icon">üè•</div>
                        <h3>Health Diagnosis App</h3>
                        <p class="app-description">Self-care Diagnosis, Doctors, Agents, Services, Homeopathic Products, Treatments, Referral Earnings</p>
                        <p class="click-instruction">Click again to open app ‚Üí</p>
                    </div>

                    <div class="app-card" onclick="handleAppClick(event, this, 'https://magero1985.github.io/tau-foundation-blueprint-/')">
                        <div class="app-icon">üìò</div>
                        <h3>TAU Blueprint</h3>
                        <p class="app-description">TAU Africa Foundation Blueprint, Vision, Objectives, Funding, Membership, Benefits, Responsibilities</p>
                        <p class="click-instruction">Click again to open app ‚Üí</p>
                    </div>

                    <div class="app-card" onclick="handleAppClick(event, this, 'https://magero1985.github.io/Tau-Africa/knowledge-App.html')">
                        <div class="app-icon">üí∏</div>
                        <h3>Pan African Knowledge </h3>
                        <p class="app-description">Are you a pan African?, play and win iKbp, ensure to link Tau Member ID, chose modes, Ecosystem iKb Integration, Sync Earnings to Main Account</p>
                        <p class="click-instruction">Click again to open app ‚Üí</p>
                    </div>

                    <div class="app-card" onclick="handleAppClick(event, this, 'https://magero1985.github.io/Tau-Africa/tau-tube.html')">
                        <div class="app-icon">üè´</div>
                        <h3>Tau Tube, Tau media platform</h3>
                        <p class="app-description">Tau media Channel, tube videos, Marketing Opportunities</p>
                        <p class="click-instruction">Click again to open app ‚Üí</p>
                    </div>

                    <div class="app-card" onclick="handleAppClick(event, this, 'https://grouptauafrica-spec.github.io/Ayuka-Yamo-Healthcare-/')">
                        <div class="app-icon">üåø</div>
                        <h3>Ayuka Yamo Healthcare</h3>
                        <p class="app-description">Homeopathic Treatments with Home-based Products, Natural Health Solutions</p>
                        <p class="click-instruction">Click again to open app ‚Üí</p>
                    </div>

                    <div class="app-card" onclick="handleAppClick(event, this, 'https://grouptauafrica-spec.github.io/Tacep-education-App-/')">
                        <div class="app-icon">üéì</div>
                        <h3>TACEP Education App</h3>
                        <p class="app-description">One-stop Platform for All Education Needs. Online, Physical, Hybrid Classes, Teacher/Student/Investor Dashboards, Government NITA Testing, Corporate Trainings</p>
                        <p class="click-instruction">Click again to open app ‚Üí</p>
                    </div>

                    <div class="app-card" onclick="handleAppClick(event, this, 'https://tau-guthub-dev.github.io/Tau-developer-space-2/')">
                        <div class="app-icon">üåæ</div>
                        <h3>Tau Africa Ecosystem Blueprint</h3>
                        <p class="app-description">The vision of TAU. Kabriu digital value currency, Earnings, Roadmaps</p>
                        <p class="click-instruction">Click again to open app ‚Üí</p>
                    </div>

                    <div class="app-card" onclick="handleAppClick(event, this, '')">
                        <div class="app-icon">üí°</div>
                        <h3>Tau Innovation Hub</h3>
                        <p class="app-description">Commercial & Community Innovation Platform. Knowledge, Skill & Potential Development. Research Activities, Inventions, Patents, Innovative Devices & Ideas. For 1st, 2nd, 3rd degree members with PIIR (Passion for Innovation, Invention & Research)</p>
                        <span class="coming-soon">Coming Soon</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // PWA Installation
        let deferredPrompt;
        const installPrompt = document.getElementById('installPrompt');
        const installButton = document.getElementById('installButton');

        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            installPrompt.classList.add('show');
        });

        installButton.addEventListener('click', async () => {
            if (deferredPrompt) {
                deferredPrompt.prompt();
                const { outcome } = await deferredPrompt.userChoice;
                console.log(`User response: ${outcome}`);
                deferredPrompt = null;
                installPrompt.classList.remove('show');
            }
        });

        window.addEventListener('appinstalled', () => {
            console.log('TAU Ecosystem installed');
            installPrompt.classList.remove('show');
        });

        function accessEcosystem() {
            const code = document.getElementById('accessCode').value;
            
            if (code === 'TAU' || code === 'tau' || code.length > 0) {
                document.getElementById('welcomeScreen').style.display = 'none';
                document.getElementById('dashboard').classList.add('active');
            } else {
                alert('Please enter a valid TAU access code');
            }
        }

        let activeCard = null;
        let clickTimer = null;

        function handleAppClick(event, card, url) {
            // Close other active cards
            const allCards = document.querySelectorAll('.app-card');
            allCards.forEach(c => {
                if (c !== card) {
                    c.classList.remove('active');
                }
            });

            // If clicking the same card that's already active
            if (card.classList.contains('active')) {
                if (url && url !== '') {
                    // Second click - open the app
                    window.open(url, '_blank');
                    card.classList.remove('active');
                } else {
                    // Coming soon apps - just close
                    card.classList.remove('active');
                }
            } else {
                // First click - show description
                card.classList.add('active');
            }
        }

        function showCategory(category) {
            // Update modal states
            const modals = document.querySelectorAll('.category-modal');
            modals.forEach(modal => modal.classList.remove('active'));
            event.target.closest('.category-modal').classList.add('active');

            // Show/hide sections
            document.getElementById('systemApps').classList.remove('active');
            document.getElementById('utilityApps').classList.remove('active');

            // Close all active app cards
            const allCards = document.querySelectorAll('.app-card');
            allCards.forEach(c => c.classList.remove('active'));

            if (category === 'system') {
                document.getElementById('systemApps').classList.add('active');
            } else {
                document.getElementById('utilityApps').classList.add('active');
            }
        }

        function logout() {
            document.getElementById('dashboard').classList.remove('active');
            document.getElementById('welcomeScreen').style.display = 'block';
            document.getElementById('accessCode').value = '';
            
            // Close all active app cards
            const allCards = document.querySelectorAll('.app-card');
            allCards.forEach(c => c.classList.remove('active'));
        }

        // Allow Enter key to submit access code
        document.getElementById('accessCode').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                accessEcosystem();
            }
        });

        // Service Worker Registration for PWA
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('sw.js')
                    .then(reg => console.log('Service Worker registered'))
                    .catch(err => console.log('Service Worker registration failed'));
            });
        }
    </script>
</body>
</html>
